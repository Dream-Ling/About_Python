<html>
<head>
  <title>Python File(文件) 方法</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4334"/>
<h1>Python File(文件) 方法</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>作者：</b></td><td><i>凌小康</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><h1>Python File(文件) 方法</h1><h3>open() 方法</h3><p>Python open() 方法用于打开一个文件，并返回文件对象，在对文件进行处理过程都需要使用到这个函数，如果该文件无法被打开，会抛出 OSError。</p><p><strong>注意：</strong>使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。</p><p>open() 函数常用形式是接收两个参数：文件名(file)和模式(mode)。</p><pre><span>open</span><span>(</span><span>file</span><span>,</span><span> mode</span><span>=</span><span>'r'</span><span>)</span></pre><p>完整的语法格式为：</p><pre><span>open</span><span>(</span><span>file</span><span>,</span><span> mode</span><span>=</span><span>'r'</span><span>,</span><span> buffering</span><span>=-</span><span>1</span><span>,</span><span> encoding</span><span>=</span><span>None</span><span>,</span><span> errors</span><span>=</span><span>None</span><span>,</span><span> newline</span><span>=</span><span>None</span><span>,</span><span> closefd</span><span>=</span><span>True</span><span>,</span><span> opener</span><span>=</span><span>None</span><span>)</span></pre><p>参数说明:</p><ul><li>file: 必需，文件路径（相对或者绝对路径）。</li><li>mode: 可选，文件打开模式</li><li>buffering: 设置缓冲</li><li>encoding: 一般使用utf8</li><li>errors: 报错级别</li><li>newline: 区分换行符</li><li>closefd: 传入的file参数类型</li><li>opener:</li></ul><p>mode 参数有：</p><table><tr><th colspan="1" rowspan="1">模式</th><th colspan="1" rowspan="1">描述</th></tr><tr><td colspan="1" rowspan="1">t</td><td colspan="1" rowspan="1">文本模式 (默认)。</td></tr><tr><td colspan="1" rowspan="1">x</td><td colspan="1" rowspan="1">写模式，新建一个文件，如果该文件已存在则会报错。</td></tr><tr><td colspan="1" rowspan="1">b</td><td colspan="1" rowspan="1">二进制模式。</td></tr><tr><td colspan="1" rowspan="1">+</td><td colspan="1" rowspan="1">打开一个文件进行更新(可读可写)。</td></tr><tr><td colspan="1" rowspan="1">U</td><td colspan="1" rowspan="1">通用换行模式（不推荐）。</td></tr><tr><td colspan="1" rowspan="1">r</td><td colspan="1" rowspan="1">以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td></tr><tr><td colspan="1" rowspan="1">rb</td><td colspan="1" rowspan="1">以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。</td></tr><tr><td colspan="1" rowspan="1">r+</td><td colspan="1" rowspan="1">打开一个文件用于读写。文件指针将会放在文件的开头。</td></tr><tr><td colspan="1" rowspan="1">rb+</td><td colspan="1" rowspan="1">以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</td></tr><tr><td colspan="1" rowspan="1">w</td><td colspan="1" rowspan="1">打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td></tr><tr><td colspan="1" rowspan="1">wb</td><td colspan="1" rowspan="1">以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td></tr><tr><td colspan="1" rowspan="1">w+</td><td colspan="1" rowspan="1">打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td></tr><tr><td colspan="1" rowspan="1">wb+</td><td colspan="1" rowspan="1">以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td></tr><tr><td colspan="1" rowspan="1">a</td><td colspan="1" rowspan="1">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td colspan="1" rowspan="1">ab</td><td colspan="1" rowspan="1">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td colspan="1" rowspan="1">a+</td><td colspan="1" rowspan="1">打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td></tr><tr><td colspan="1" rowspan="1">ab+</td><td colspan="1" rowspan="1">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td></tr></table><p>默认为文本模式，如果要以二进制模式打开，加上 <span>b</span> 。</p><h3>file 对象</h3><p>file 对象使用 open 函数来创建，下表列出了 file 对象常用的函数：</p><table><tr><th colspan="1" rowspan="1">序号</th><th colspan="1" rowspan="1">方法及描述</th></tr><tr><td colspan="1" rowspan="1">1</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-close.html" shape="rect">file.close()</a></p><p>关闭文件。关闭后文件不能再进行读写操作。</p></td></tr><tr><td colspan="1" rowspan="1">2</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-flush.html" shape="rect">file.flush()</a></p><p>刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件, 而不是被动的等待输出缓冲区写入。</p></td></tr><tr><td colspan="1" rowspan="1">3</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-fileno.html" shape="rect">file.fileno()</a></p><p>返回一个整型的文件描述符(file descriptor FD 整型), 可以用在如os模块的read方法等一些底层操作上。</p></td></tr><tr><td colspan="1" rowspan="1">4</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-isatty.html" shape="rect">file.isatty()</a></p><p>如果文件连接到一个终端设备返回 True，否则返回 False。</p></td></tr><tr><td colspan="1" rowspan="1">5</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-next.html" shape="rect">file.next()</a></p><p>返回文件下一行。</p></td></tr><tr><td colspan="1" rowspan="1">6</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/python-file-read.html" shape="rect">file.read([size])</a></p><p>从文件读取指定的字节数，如果未给定或为负则读取所有。</p></td></tr><tr><td colspan="1" rowspan="1">7</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-readline.html" shape="rect">file.readline([size])</a></p><p>读取整行，包括 &quot;\n&quot; 字符。</p></td></tr><tr><td colspan="1" rowspan="1">8</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-readlines.html" shape="rect">file.readlines([sizeint])</a></p><p>读取所有行并返回列表，若给定sizeint&gt;0，则是设置一次读多少字节，这是为了减轻读取压力。</p></td></tr><tr><td colspan="1" rowspan="1">9</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-seek.html" shape="rect">file.seek(offset[, whence])</a></p><p>设置文件当前位置</p></td></tr><tr><td colspan="1" rowspan="1">10</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-tell.html" shape="rect">file.tell()</a></p><p>返回文件当前位置。</p></td></tr><tr><td colspan="1" rowspan="1">11</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-truncate.html" shape="rect">file.truncate([size])</a></p><p>截取文件，截取的字节通过size指定，默认为当前文件位置。</p></td></tr><tr><td colspan="1" rowspan="1">12</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/python-file-write.html" shape="rect">file.write(str)</a></p><p>将字符串写入文件，返回的是写入的字符长度。</p></td></tr><tr><td colspan="1" rowspan="1">13</td><td colspan="1" rowspan="1"><p><a href="http://www.runoob.com/python/file-writelines.html" shape="rect">file.writelines(sequence)</a></p><p>向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。</p></td></tr></table><br clear="none"/></div></span>
</div></body></html> 